<script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
google.setOnLoadCallback(drawChart);
function drawChart() {

  
  var datos = setDatos();
  var data = google.visualization.arrayToDataTable(datos);
  var options = {
    title: 'Cantidad de asistencias a emregencias prehospitalarias',
    hAxis: {title: 'Bomberos', titleTextStyle: {color: 'red'}}
  };

  var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));

  chart.draw(data, options);

}

function setDatos() {
  var datos = new Array();
  var contador = 1;
  datos[0] = ['Element', 'Asistencias', { role: 'style' }];
  '<% @usuarios.each do |user| %>'
    datos[contador] = ['<%= user.nombre %>'+' <%= user.apellido %>', <%= user.assist_pre_hospitals.count %>, '#b87333'];
    contador= contador+ 1;
  '<% end %>'
  return datos;
}
    </script>
